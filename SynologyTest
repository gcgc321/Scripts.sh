#!/bin/bash

# Define an array of directory paths
DIRECTORIES=(
    "/path/to/first/directory"
    "/path/to/second/directory"
    # Add more directories as needed
)

# Define the Trash directory path
TRASH_DIR="/path/to/trash/directory"

# Create the Trash directory if it doesn't exist
mkdir -p "$TRASH_DIR"

# Define the file extensions to consider
FILE_EXTENSIONS=("log" "gho")

# Iterate through each directory
for DIRECTORY in "${DIRECTORIES[@]}"; do
    # Change to the specified directory
    cd "$DIRECTORY" || continue

    # List all files in the directory (excluding directories)
    files=()
    while IFS= read -r -d '' file; do
        files+=("$file")
    done < <(find . -maxdepth 1 -type f -print0)

    # Filter files by extension
    filtered_files=()
    for file in "${files[@]}"; do
        for ext in "${FILE_EXTENSIONS[@]}"; do
            if [[ "$file" == *".$ext" ]]; then
                filtered_files+=("$file")
                break
            fi
        done
    done

    # Move files to the Trash directory
    for file in "${filtered_files[@]}"; do
        if [[ "$file" != "$oldest_file" && "$file" != "$newest_file" ]]; then
            mv "$file" "$TRASH_DIR"
            echo "Moved $file to Trash"
        fi
    done

    echo "Kept $oldest_file (oldest) and $newest_file (newest) in $DIRECTORY"
done
